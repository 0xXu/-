# 个人投资记账程序

这是一个基于Python的个人投资记账程序，用于记录和分析股票投资的盈亏情况。

## 功能特点

- 📊 图形化界面：使用ttkbootstrap构建现代美观的界面
- 📝 快速录入：支持单条记录和批量导入
- 📈 数据可视化：多种图表直接在程序中展示
- 🔍 灵活筛选：支持多条件组合筛选
- 📊 统计分析：自动计算关键指标
- 💾 数据导出：支持导出为Excel格式
- 🔄 自动备份：定期备份数据库

## 安装说明

1. 克隆仓库：
```bash
git clone [repository-url]
cd stock-tracker
```

2. 创建虚拟环境（推荐）：
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. 安装依赖：
```bash
pip install -r requirements.txt
```

## 使用说明

### 启动程序

```bash
python src/main.py
```

### 数据录入

1. 单条录入：
   - 填写股票名称、金额、盈亏类型、交易日期和备注
   - 点击"添加记录"保存

2. 批量导入：
   - 准备符合格式的文本文件
   - 点击"导入文件"选择文件
   - 或直接在文本框中粘贴数据
   - 点击"解析数据"导入

### 数据格式

批量导入的文本格式要求：
```
股票名称 金额 盈/亏 日期 [备注]
示例：
贵州茅台 1000.00 盈 2024-01-01 春节行情
```

### 数据筛选

支持以下筛选条件：
- 股票名称（模糊匹配）
- 日期范围
- 盈亏类型
- 金额范围

### 图表分析

提供三种美观的图表类型（直接在程序中显示）：
1. 收益趋势：展示月度收益变化
2. 股票分布：展示各股票盈亏情况
3. 月度统计：展示月度交易次数和收益

图表特点：
- 使用Matplotlib和Seaborn生成精美图表
- 内置图表工具栏，支持缩放、平移、保存等功能
- 自动适应窗口大小
- 颜色区分盈亏情况

### 数据导出

- 点击"导出Excel"按钮
- 选择保存位置
- 自动导出为Excel格式

### 快捷键

- `Ctrl+O`: 导入文件
- `Ctrl+S`: 保存/备份数据
- `Ctrl+E`: 导出Excel
- `Ctrl+R`: 刷新数据
- `F5`: 刷新图表
- `Esc`: 取消选择

## 数据存储

- 数据库位置：`~/AccountTracker/transactions.db`
- 配置文件：`~/AccountTracker/config.json`
- 备份目录：`~/AccountTracker/backup/`

## 注意事项

1. 首次运行会自动创建必要的目录和数据库
2. 建议定期备份数据
3. 所有弹窗提示均居中显示，提升用户体验
4. 金额支持带千分位格式（如：1,234.56）
5. 日期支持多种格式（如：2024-01-01、2024/01/01、2024年01月01日）

## 技术栈

- Python 3.7+
- tkinter/ttkbootstrap (GUI)
- SQLite3 (数据库)
- Matplotlib/Seaborn (数据可视化)
- Pandas (数据处理)

## 更新日志

### v1.0.0 (2024-01)
- 初始版本发布
- 基本功能实现

## 贡献指南

欢迎提交Issue和Pull Request来改进程序。

## 许可证

MIT License 